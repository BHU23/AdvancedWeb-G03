<nav class="navbar navbar-expand-lg shadow-sm fixed-top bg-white">
  <div class="container-fluid d-flex justify-between">
    <div class="d-flex">
      <button
        *ngIf="isLoggedIn"
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <i class="fa-solid fa-bars" style="color: #007bff"></i>
      </button>
      <a class="navbar-brand" href="#">
        <img
          src="assets/logo/trip-tales-logo.png"
          alt="Trip Tales Logo"
          height="32"
        />
      </a>
    </div>

    <div
      *ngIf="isLoggedIn"
      class="button-container d-none d-lg-flex justify-content-center"
    >
      <button
        mat-button
        class="mat-button"
        routerLink="/"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        Home
      </button>
      <button
        mat-button
        class="mat-button"
        routerLink="/review"
        routerLinkActive="active"
      >
        Review
      </button>
      <button
        mat-button
        class="mat-button"
        routerLink="/planning"
        routerLinkActive="active"
      >
        Planning
      </button>
    </div>

    <div class="d-flex align-items-center justify-content-end gap-3">
      <ng-container *ngIf="isLoggedIn; else loggedOut">
        <a class="nav-link" href="#">
          <!-- <i class="bi bi-bell-fill"></i> -->
        </a>
        <div class="btn-group">
          <div
            type="button"
            class="dropdown-toggle"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <img
              [src]="
                userData?.avatar
                  ? userData?.avatar
                  : 'assets/user_avatar.jpg'
              "
              alt="User Avatar"
              class="rounded-circle"
              width="32"
            />
          </div>
          <div class="dropdown-menu dropdown-menu-right">
            <a class="dropdown-item" href="/profile">Profile</a>
            <button class="dropdown-item" (click)="onLogout()">Logout</button>
          </div>
        </div>
      </ng-container>

      <ng-template #loggedOut>
        <a class="btn btn-primary px-3" routerLink="/login">
          Login <i class="bi bi-box-arrow-in-right"></i>
        </a>
      </ng-template>
    </div>
  </div>

  <div
    class="collapse navbar-collapse"
    id="navbarNavAltMarkup"
    *ngIf="isLoggedIn"
  >
    <ul class="navbar-nav me-auto mb-2 mb-lg-0 d-lg-none d-block pl-2">
      <li class="nav-item">
        <a
          class="nav-link"
          routerLink="/"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          aria-current="page"
          >Home</a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/review" routerLinkActive="active">
          Review
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/planning" routerLinkActive="active">
          Planning
        </a>
      </li>
    </ul>
  </div>
</nav>
