<div class="container mt-4">
  <form [formGroup]="reviewForm" (ngSubmit)="onSubmit()">
    <!-- Review Form -->
    <h2>Create Review</h2>

    <div class="form-group">
      <label for="topic">Topic</label>
      <input
        type="text"
        id="topic"
        formControlName="topic"
        class="form-control"
        placeholder="Enter review topic"
      />
    </div>

    <div class="form-group">
      <label for="image">Upload Image</label>
      <input
        type="file"
        id="image"
        class="form-control"
        (change)="onFileChange($event)"
      />
    </div>

    <div class="form-group">
      <label for="rating">Rating</label>
      <input
        type="number"
        id="rating"
        formControlName="rating"
        class="form-control"
        min="1"
        max="5"
      />
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        formControlName="description"
        class="form-control"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="trip_date">Trip Date</label>
      <input
        type="date"
        id="trip_date"
        formControlName="trip_date"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="timeRecommend">Recommend Time</label>
      <select
        id="timeRecommend"
        formControlName="timeRecommend"
        class="form-control"
      >
        <option value="">Select time</option>
        <option value="morning">Morning</option>
        <option value="afternoon">Afternoon</option>
        <option value="evening">Evening</option>
        <option value="night">Night</option>
      </select>
    </div>

    <div class="form-group">
      <label for="cost">Cost</label>
      <input
        type="number"
        id="cost"
        formControlName="cost"
        class="form-control"
        placeholder="Enter cost"
      />
    </div>

    <!-- Nested FormGroup for Place Section -->
    <h3>Place</h3>
    <div formGroupName="placeId">
      <!-- Reference the 'placeId' formGroup -->
      <div class="form-group">
        <label for="name">Place Name</label>
        <input
          type="text"
          id="name"
          formControlName="name"
          class="form-control"
          placeholder="Enter place name"
        />
      </div>

      <div class="form-group">
        <label for="description">Place Description</label>
        <textarea
          id="description"
          formControlName="description"
          class="form-control"
        ></textarea>
      </div>

      <div class="form-group">
        <label for="address">Address</label>
        <input
          type="text"
          id="address"
          formControlName="address"
          class="form-control"
          placeholder="Enter address"
        />
      </div>

      <div class="form-group">
        <label for="map">Select Location (Map Integration Placeholder)</label>
        <div
          class="map-container"
          style="height: auto; background-color: #f0f0f0"
        >
          <google-map
            id="map"
            height="600px"
            width="100%"
            [options]="options"
            (mapClick)="onMapClick($event)"
          >
            <ng-container *ngIf="markerPosition">
              <map-advanced-marker
                #markerElem="mapAdvancedMarker"
                [position]="markerPosition"
              />
            </ng-container>
          </google-map>
        </div>
      </div>

      <div class="form-group">
        <label for="latitude">Latitude</label>
        <input
          type="number"
          id="latitude"
          formControlName="latitude"
          class="form-control"
          readonly
        />
      </div>

      <div class="form-group">
        <label for="longitude">Longitude</label>
        <input
          type="number"
          id="longitude"
          formControlName="longitude"
          class="form-control"
          readonly
        />
      </div>

      <div class="form-group">
        <label for="googleMapsUrl">Google Maps URL</label>
        <input
          type="text"
          id="googleMapsUrl"
          formControlName="googleMapsUrl"
          class="form-control"
          readonly
        />
      </div>

      <div class="form-group">
        <label for="category">Category</label>
        <input
          type="text"
          id="category"
          formControlName="category"
          class="form-control"
          placeholder="Enter category"
        />
      </div>
    </div>
    <!-- End of placeId FormGroup -->

    <button
      type="submit"
      class="btn btn-primary mt-3"
      [disabled]="reviewForm.invalid"
    >
      Submit
    </button>
  </form>
</div>
